"use client";var t=()=>{},c=(e,{onCached:s=t,onUpdated:a=t})=>{let i=n=>{n&&n.addEventListener("statechange",()=>{n.state==="installed"&&(navigator.serviceWorker.controller?a(e):s(e))})};i(e.installing),e.addEventListener("updatefound",()=>i(e.installing))},l=async({url:e="/sw.js",scope:s="/",onRegistered:a=t,onCached:i=t,onUpdated:n=t,onError:o=t}={})=>{if(typeof navigator=="undefined"||!("serviceWorker"in navigator))return{registered:!1};try{let r=await navigator.serviceWorker.register(e,{scope:s});return a(r),c(r,{onCached:i,onUpdated:n}),{registered:!0,registration:r}}catch(r){return o(r),console.warn("Service worker registration failed",r),{registered:!1,error:r}}};typeof window!="undefined"&&l().catch(()=>{});export{l as registerServiceWorker};
//# sourceMappingURL=pwa-register.js.map
